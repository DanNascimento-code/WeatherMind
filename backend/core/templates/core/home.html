{% extends "base.html" %}

{% block content %}
<form method="get">
    <input type="text" name="city" placeholder="Cidade" required>
    <button type="submit">Buscar</button>
</form>

{% if weather %}
    <h2>{{ weather.city }}</h2>
    <p>Temperatura: {{ weather.temperature }}°C</p>
    <p>Sensação térmica: {{ weather.feels_like }}°C</p>
    <p>Umidade: {{ weather.humidity }}%</p>
    <p>Condição: {{ weather.condition }}</p>
{% endif %}

{% if history %}
    <h3>Histórico recente</h3>
    <ul>
        {% for record in history %}
            <li>
                {{ record.created_at|date:"d/m H:i" }} —
                {{ record.temperature }}°C —
                {{ record.condition }}
            </li>
        {% endfor %}
    </ul>
{% endif %}

{% if error %}
    <p style="color:red">{{ error }}</p>
{% endif %}
{% endblock %}
